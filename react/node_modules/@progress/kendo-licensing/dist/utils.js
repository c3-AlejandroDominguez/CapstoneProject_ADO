"use strict";var e=require("jsonwebtoken"),n=require("fs"),s=require("os"),t=require("path");const r=["TELERIK_LICENSE","KENDO_UI_LICENSE"],o=["telerik-license.txt","kendo-ui-license.txt"],c="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2mnUVMmkth2x+N/ODszG\nOFIYBL6NOO1XWRj1wkmecKuLziJDhFz0WQmyOjY34Ymg9pLuBA9QSWrrZuvPw40N\nm0X/GBmttFmPNvca3WmJ2oKM7PpLiUU9f7Ov5WeIXnx++ts/LC/OB7FtZ+LiRgJ7\n0mZnPeTogdFrASf0zSQJv4jmX840LPa6nomWeUgIVGPLLVI14Gib8Dl+nOckqCNc\nkAUUk4IBF67DufRt9zQyRxg99ysakvHX2SDbdGvIBdxWxvhhmrBoeix0uSVtG2gm\njdvSqlPJVdvMbk1Xe2+SUldJPrxH1VrTYeRUt4yqWxy16nFJUDj9exZ202X4THkU\nJQIDAQAB\n-----END PUBLIC KEY-----";function i(n,s){return new Promise((t,r)=>{e.verify(n,s,{algorithms:["RS256"]},function(e,n){e&&r(e),t(n)})})}function u(){const e=function(){const e=process.env.INIT_CWD||process.cwd();return t.resolve(e)}().split(t.sep),n=[],r=process.env.TELERIK_LICENSE_PATH;if(r&&r.length>0)return[r];for(let s=0;s<e.length;s++){const r=e.slice(0,e.length-s).join(t.sep);n.push(r||t.sep)}const c=process.env.APPDATA;return"win32"===s.platform()&&c?n.push(t.join(c,"Telerik")):n.push(t.join(s.homedir(),".telerik")),n.flatMap(e=>o.map(n=>t.join(e,n)))}function a(){const e=function(){for(const e of u())try{return n.accessSync(e,n.constants.R_OK),e}catch(e){}return null}();if(null!==e){return{success:!0,source:e,value:n.readFileSync(e,{encoding:"utf-8"}).trim()}}return{success:!1,message:u().map(e=>`* ${e}`).join("\n")}}exports.decodeLicenseEvidence=async function(e){return await i(e,c)},exports.decodeLicenseKey=async function(e){return await async function(e,n){var s;const t=await i(e,n);return(null===(s=t.licenses)||void 0===s?void 0:s.length)>0&&await Promise.all(t.licenses.map(e=>i(e,n))),t}(e,c)},exports.loadLicense=function(){const e=function(){for(const e of r){const n=process.env[e];if(n&&n.length>0)return{success:!0,source:e,value:n.trim()}}return{success:!1,message:`* Environment Variables: ${r.join(", ")}\n`}}();if(!0===e.success)return e;const n=a();return!0===n.success?n:{success:!1,message:"No Telerik and Kendo UI License file found.\n\nThe following locations were searched:\n"+e.message+n.message+"\n\nTo download a license key file, visit https://prgress.co/3PBSVoC"}};
